# DECISION_MATRIX.md — AI 의사결정 매트릭스

> AI가 개발 중 마주치는 선택 상황에서 일관되고 합리적인 결정을 내릴 수 있도록 하는 의사결정 기준

## 📋 AI 사용 가이드
개발 과정에서 여러 옵션 중 선택해야 할 때, 이 매트릭스를 참고하여 결정합니다.
사용자의 우선순위와 맥락을 반영한 정량적 기준을 제공합니다.

---

## ⭐ 절대 우선순위 (모든 결정에서 최우선)

### 언어 사용 우선순위
```markdown
1순위: 한국어 응답 (사용자가 한국어로 요청한 경우)
  - 모든 설명과 안내를 한국어로 작성
  - 코드 주석도 한국어로 작성
  - 에러 메시지 한국어 번역
  
2순위: 일관된 프로젝트 생성 프로세스
  - Xcode 프로젝트 생성 안내 우선
  - 사용자 확인 후 코드 작성 시작
```

## ⚖️ 우선순위 가중치

### 핵심 가치별 가중치 (총 100%)
사용자의 USER_CONTEXT.md를 바탕으로 조정하세요.

| 가치 항목 | 기본 가중치 | 사용자 조정 | 최종 가중치 |
|-----------|-------------|-------------|-------------|
| **사용자 경험** | 30% | [+10% / 0% / -10%] | __%  |
| **성능** | 25% | [+10% / 0% / -10%] | __%  |
| **안정성** | 20% | [+10% / 0% / -10%] | __%  |
| **확장성** | 15% | [+10% / 0% / -10%] | __%  |
| **개발 속도** | 10% | [+10% / 0% / -10%] | __%  |

**예시 조정:**
```markdown
바쁜 직장인 사용자의 경우:
- 사용자 경험: 30% → 40% (+10%) - 빠른 입력이 최우선
- 성능: 25% → 35% (+10%) - 느린 앱은 절대 안 됨
- 안정성: 20% → 20% (유지) - 기본 수준 유지
- 확장성: 15% → 5% (-10%) - 당장 필요 없음
- 개발 속도: 10% → 0% (-10%) - 품질이 더 중요
```

---

## 🔄 트레이드오프 의사결정 규칙

### 성능 vs 기능성
**상황**: 추가 기능을 넣으면 앱이 느려질 때

| 조건 | 선택 기준 | 예시 |
|------|-----------|------|
| 핵심 기능 영향 | 성능 우선 | 할 일 추가 속도가 느려지면 기능 포기 |
| 부가 기능 영향 | 기능성 우선 | 통계 화면이 느려져도 상세 기능 추가 |
| 사용 빈도 높음 | 성능 우선 | 매일 쓰는 기능은 빠르게 |
| 사용 빈도 낮음 | 기능성 우선 | 가끔 쓰는 기능은 풍부하게 |

### 단순함 vs 강력함
**상황**: UI가 복잡해지지만 강력한 기능을 제공할 때

| 사용자 숙련도 | 선택 기준 | 구현 방식 |
|---------------|-----------|-----------|
| 초급 사용자 | 단순함 우선 | 고급 기능 숨김 처리 |
| 중급 사용자 | 균형 | 기본은 단순, 설정에서 확장 |
| 고급 사용자 | 강력함 우선 | 모든 기능 노출 |

### 개인정보 vs 편의성
**상황**: 클라우드 동기화, 분석 기능 등 편의성을 위해 데이터가 필요할 때

| 데이터 민감도 | 선택 기준 | 처리 방식 |
|---------------|-----------|-----------|
| 높음 | 개인정보 우선 | 로컬 저장, 암호화 필수 |
| 보통 | 사용자 선택권 | 옵트인 방식으로 제공 |
| 낮음 | 편의성 우선 | 기본으로 제공, 옵트아웃 가능 |

---

## 🎯 기능 우선순위 결정 프레임워크

### 기능 평가 매트릭스
새로운 기능을 추가할지 결정할 때 사용하는 점수 체계 (1-5점)

| 평가 요소 | 가중치 | 점수 기준 |
|-----------|--------|-----------|
| **사용자 가치** | 40% | 5점: 필수 기능 / 1점: 있으면 좋은 기능 |
| **구현 복잡도** | 20% | 5점: 매우 쉬움 / 1점: 매우 어려움 |
| **유지보수성** | 20% | 5점: 유지보수 쉬움 / 1점: 복잡함 |
| **기존 기능 영향** | 20% | 5점: 영향 없음 / 1점: 큰 영향 |

**최종 점수 = (사용자 가치 × 0.4) + (구현 복잡도 × 0.2) + (유지보수성 × 0.2) + (기존 기능 영향 × 0.2)**

**결정 기준:**
- 4.0점 이상: 즉시 구현
- 3.0-3.9점: 다음 버전에서 고려
- 2.0-2.9점: 보류
- 2.0점 미만: 구현 안 함

---

## 🏗️ 아키텍처 결정 가이드

### 기술 스택 선택 기준

**UI 프레임워크 선택:**
```markdown
SwiftUI vs UIKit 결정:
- 타겟 iOS 버전 16.0+ → SwiftUI 우선
- 복잡한 커스텀 UI 필요 → UIKit 고려
- 개발 속도 중요 → SwiftUI
- 세밀한 제어 필요 → UIKit

Combine vs RxSwift vs async/await:
- iOS 16.0+ 타겟 → async/await 우선
- 복잡한 스트림 처리 → Combine
- 기존 코드베이스 있음 → 기존 방식 유지
```

**데이터 저장 방식:**
```markdown
Core Data vs SQLite vs UserDefaults:
- 복잡한 관계형 데이터 → Core Data
- 단순한 리스트 → SQLite
- 설정값만 → UserDefaults
- 성능 최우선 → SQLite
- 개발 편의성 → Core Data
```

### 외부 라이브러리 사용 기준

| 평가 요소 | 임계값 | 기준 |
|-----------|--------|------|
| GitHub 스타 | 1000+ | 커뮤니티 신뢰도 |
| 최근 업데이트 | 6개월 이내 | 활발한 유지보수 |
| 이슈 응답 속도 | 1주일 이내 | 지원 품질 |
| 라이센스 | MIT/Apache | 상용 사용 가능 |
| 앱 크기 증가 | 5MB 이하 | 성능 영향 최소화 |

---

## 🚨 예외 상황 처리 원칙

### 에러 처리 우선순위
1. **데이터 손실 방지** (최우선)
2. **사용자 경험 연속성**
3. **명확한 피드백 제공**
4. **자동 복구 시도**
5. **개발자 디버깅 정보**

### 상충 상황 해결 원칙

**성능 vs 안정성 충돌 시:**
```markdown
예시: 빠른 저장 vs 데이터 무결성
결정: 안정성 우선 → 데이터 무결성 보장 후 성능 최적화
이유: 할 일 앱에서 데이터 손실은 치명적
```

**UX vs 기술적 제약 충돌 시:**
```markdown
예시: 이상적 UX vs iOS 플랫폼 제약
결정: 플랫폼 가이드라인 준수 → 그 안에서 최적 UX 추구
이유: 플랫폼 일관성이 사용자에게 더 자연스러움
```

---

## 📊 의사결정 로깅

### 주요 결정 사항 기록 형식
```markdown
**결정 ID**: DEC-001
**날짜**: 2024-01-15
**상황**: 할 일 정렬 방식 선택 (생성일 vs 우선순위 vs 마감일)
**옵션들**: 
  A) 생성일 내림차순 (최신 우선)
  B) 우선순위 + 마감일 조합
  C) 사용자 선택 가능
**적용된 가중치**: 사용자 경험 40%, 성능 35%, 확장성 25%
**선택**: 옵션 A
**점수**: A(4.2점), B(3.1점), C(2.8점)
**이유**: 단순함이 성능과 UX에 유리. 사용자가 "빠른 할 일 추가"를 최우선으로 요청
**후속 조치**: 향후 고급 정렬은 설정에서 제공 고려
```

이런 로그를 통해 일관된 의사결정을 유지하고, 나중에 결정을 재검토할 때 맥락을 이해할 수 있습니다.