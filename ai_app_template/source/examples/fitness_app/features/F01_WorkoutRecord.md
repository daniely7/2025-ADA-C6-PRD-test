# F01: μ΄λ™ κΈ°λ΅ κ΄€λ¦¬ (WorkoutRecord)

## π“‹ κΈ°λ¥ κ°μ”
ν—¬μ¤μ¥μ—μ„ μ‹¤μ‹κ°„μΌλ΅ μ΄λ™ μ„ΈνΈλ¥Ό λΉ λ¥΄κ² κΈ°λ΅ν•κ³  κ΄€λ¦¬ν•λ” ν•µμ‹¬ κΈ°λ¥μ…λ‹λ‹¤. μ‚¬μ©μκ°€ μ΄λ™ μ¤‘μ— μ¤‘λ‹¨ μ—†μ΄ μ„ΈνΈλ³„ λ¬΄κ²μ™€ νμλ¥Ό κΈ°λ΅ν•  μ μλ„λ΅ μµμ ν™”λ UIλ¥Ό μ κ³µν•©λ‹λ‹¤.

## π― μ‚¬μ©μ μ¤ν† λ¦¬
```
As a ν—¬μ¤μ¥ μ΄μ©μ
I want to μ΄λ™ μ¤‘μ— λΉ λ¥΄κ² μ„ΈνΈλ¥Ό κΈ°λ΅ν•κ³  μ‹¶μ–΄
So that μ΄λ™μ— μ§‘μ¤‘ν•λ©΄μ„λ„ μ •ν™•ν• κΈ°λ΅μ„ λ‚¨κΈΈ μ μμ–΄
```

## β΅ ν•µμ‹¬ μ”κµ¬μ‚¬ν•­

### π‹οΈβ€β™‚οΈ μ΄λ™ μ¶”κ°€ λ° μ„ νƒ
- **λΉ λ¥Έ μ΄λ™ μ¶”κ°€**: μƒλ‹¨ "+" λ²„νΌμΌλ΅ μƒ μ΄λ™ μ¦‰μ‹ μ¶”κ°€
- **μλ™μ™„μ„± μ§€μ›**: κΈ°μ΅΄ μ΄λ™λ… νƒ€μ΄ν•‘ μ‹ μλ™μ™„μ„± μ μ•
- **μΉ΄ν…κ³ λ¦¬ μλ™ λ¶„λ¥**: μ΄λ™λ… κΈ°λ°μΌλ΅ μƒμ²΄/ν•μ²΄/μ „μ‹  μλ™ λ¶„λ¥
- **μµκ·Ό μ΄λ™ μ°μ„ **: μµκ·Ό 7μΌ λ‚΄ κΈ°λ΅ν• μ΄λ™μ„ μƒλ‹¨μ— μ°μ„  ν‘μ‹

### π’ μ„ΈνΈ κΈ°λ΅ μ…λ ¥
- **λΉ λ¥Έ μ„ΈνΈ μ¶”κ°€**: μ΄λ™ μ„ νƒ ν›„ "μ„ΈνΈ μ¶”κ°€" λ²„νΌμΌλ΅ μ¦‰μ‹ μ…λ ¥ λ¨λ“
- **μ¤λ§νΈ κΈ°λ³Έκ°’**: μ΄μ „ μ„ΈνΈμ λ¬΄κ²/νμλ¥Ό κΈ°λ³Έκ°’μΌλ΅ μλ™ μ„¤μ •
- **μμΉ μ…λ ¥ μµμ ν™”**: λ¬΄κ²λ” 2.5kg λ‹¨μ„, νμλ” 1 λ‹¨μ„λ΅ +/- λ²„νΌ μ κ³µ
- **ν• λ²μ— μ™„λ£**: λ¬΄κ²β†’νμβ†’μ™„λ£λ¥Ό 3νƒ­ μ΄λ‚΄λ΅ μ²λ¦¬

### π“ μ‹¤μ‹κ°„ ν”Όλ“λ°±
- **μ¦‰μ‹ λ³Όλ¥¨ κ³„μ‚°**: μ„ΈνΈ μ™„λ£ μ‹ λ³Όλ¥¨(λ¬΄κ²Γ—νμ) μ¦‰μ‹ ν‘μ‹
- **PR κ°μ§€**: κ°μΈ κΈ°λ΅ κ°±μ‹  μ‹ κΈμƒ‰ λ°°μ§€μ™€ μ¶•ν• μ• λ‹λ©”μ΄μ…
- **μ§„ν–‰ μƒνƒ ν‘μ‹**: μ΄ μ„ΈνΈ μ¤‘ ν„μ¬ λ‡ λ²μ§Έ μ„ΈνΈμΈμ§€ λ…ν™• ν‘μ‹
- **μ‹κ°μ  μ™„λ£ ν‘μ‹**: μ™„λ£λ μ„ΈνΈλ” μ²΄ν¬λ§ν¬μ™€ μƒ‰μƒ λ³€κ²½

## π¨ UI/UX μ„¤κ³„

### π“± λ©”μΈ ν™”λ©΄ λ μ΄μ•„μ›ƒ
```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  π‹οΈ FitnessTracker        [+]  β”‚  β† μƒλ‹¨ κ³ μ • ν—¤λ”
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                 β”‚
β”‚  π“‹ μ¤λμ μ΄λ™                 β”‚  β† μ΄λ™ λ©λ΅ μμ—­
β”‚  β”β”€ λ²¤μΉν”„λ μ¤ β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚
β”‚  β”‚ 3μ„ΈνΈ μ™„λ£ β€Ά μ΄ 1,920kg  β”‚  β”‚
β”‚  β”‚ 80kgΓ—8  80kgΓ—7  75kgΓ—8   β”‚  β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚
β”‚                                 β”‚
β”‚  β”β”€ μ¤μΏΌνΈ β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€ [μ§„ν–‰μ¤‘] β” β”‚
β”‚  β”‚ 2/4μ„ΈνΈ β€Ά 1,200kg        β”‚  β”‚
β”‚  β”‚ 100kgΓ—10  95kgΓ—8  [μ…λ ¥μ¤‘] β”‚ β”‚
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”‚
β”‚                                 β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚ [μ΄λ™ μ¶”κ°€] [ν†µκ³„ λ³΄κΈ°] [μ„¤μ •]  β”‚  β† ν•λ‹¨ κ³ μ • μ•΅μ…λ°”
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

### β¨οΈ μ„ΈνΈ μ…λ ¥ ν™”λ©΄
```
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
β”‚  β† μ¤μΏΌνΈ β€Ά 3λ²μ§Έ μ„ΈνΈ           β”‚
β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”¤
β”‚                                 β”‚
β”‚           λ¬΄κ² (kg)             β”‚
β”‚     β”β”€β”  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”β”€β”      β”‚
β”‚     β”‚-β”‚  β”‚  100.0  β”‚  β”‚+β”‚      β”‚  β† 2.5kg λ‹¨μ„ μ΅°μ •
β”‚     β””β”€β”  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β””β”€β”      β”‚
β”‚                                 β”‚
β”‚            νμ                 β”‚
β”‚     β”β”€β”  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β”β”€β”      β”‚
β”‚     β”‚-β”‚  β”‚   10    β”‚  β”‚+β”‚      β”‚  β† 1ν λ‹¨μ„ μ΅°μ •
β”‚     β””β”€β”  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”  β””β”€β”      β”‚
β”‚                                 β”‚
β”‚     μ΄μ „: 100kg Γ— 10ν           β”‚  β† μ°Έκ³  μ •λ³΄
β”‚     λ³Όλ¥¨: 1,000kg               β”‚
β”‚                                 β”‚
β”‚  β”β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β”‚  β”‚        μ„ΈνΈ μ™„λ£            β”‚ β”‚  β† ν•λ‹¨ κ³ μ • μ™„λ£ λ²„νΌ
β”‚  β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β” β”‚
β””β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”€β”
```

## π”§ κΈ°μ μ  κµ¬ν„

### π’Ύ λ°μ΄ν„° λ¨λΈ
```swift
// Domain Entity
struct WorkoutRecord {
    let id: UUID
    let exerciseName: String
    let category: WorkoutCategory
    let date: Date
    let sets: [WorkoutSet]
    
    var totalVolume: Double {
        sets.reduce(0) { $0 + $1.volume }
    }
    
    var isCompleted: Bool {
        !sets.isEmpty && sets.allSatisfy { $0.isCompleted }
    }
}

struct WorkoutSet {
    let id: UUID
    let weight: Double
    let reps: Int
    let isCompleted: Bool
    let completedAt: Date?
    
    var volume: Double {
        weight * Double(reps)
    }
}

enum WorkoutCategory: String, CaseIterable {
    case upperBody = "μƒμ²΄"
    case lowerBody = "ν•μ²΄"
    case fullBody = "μ „μ‹ "
    case cardio = "μ μ‚°μ†"
}
```

### π—οΈ Repository Protocol
```swift
protocol WorkoutRepository {
    func addWorkout(_ workout: WorkoutRecord) async throws
    func updateWorkout(_ workout: WorkoutRecord) async throws
    func deleteWorkout(id: UUID) async throws
    func getWorkouts(for date: Date) async throws -> [WorkoutRecord]
    func getRecentExercises(limit: Int) async throws -> [String]
    func getPersonalRecord(for exercise: String) async throws -> WorkoutSet?
}
```

### π® ViewModel
```swift
@MainActor
class WorkoutViewModel: ObservableObject {
    @Published var todayWorkouts: [WorkoutRecord] = []
    @Published var currentWorkout: WorkoutRecord?
    @Published var isAddingSet = false
    @Published var currentSetInput = SetInput()
    
    private let workoutService: WorkoutService
    
    func addNewWorkout(exerciseName: String) {
        // λΉ λ¥Έ μ΄λ™ μ¶”κ°€ λ΅μ§
    }
    
    func addSet(to workoutId: UUID, weight: Double, reps: Int) {
        // λΉ λ¥Έ μ„ΈνΈ μ¶”κ°€ λ΅μ§
    }
    
    func completeSet() {
        // μ„ΈνΈ μ™„λ£ μ²λ¦¬ λ° PR μ²΄ν¬
    }
}

struct SetInput {
    var weight: Double = 0.0
    var reps: Int = 0
    var suggestedWeight: Double = 0.0
    var suggestedReps: Int = 0
}
```

## π§ ν…μ¤νΈ μ‹λ‚λ¦¬μ¤

### β΅ Unit Tests
```swift
class WorkoutRecordTests: XCTestCase {
    func testVolumeCalculation() {
        // λ³Όλ¥¨ κ³„μ‚° μ •ν™•μ„± ν…μ¤νΈ
        let set = WorkoutSet(weight: 80, reps: 10)
        XCTAssertEqual(set.volume, 800.0)
    }
    
    func testPersonalRecordDetection() {
        // PR κ°μ§€ λ΅μ§ ν…μ¤νΈ
    }
    
    func testAutoSuggestion() {
        // μλ™ μ μ• λ΅μ§ ν…μ¤νΈ
    }
}
```

### π“± UI Tests
```swift
class WorkoutRecordUITests: XCTestCase {
    func testQuickWorkoutEntry() {
        app.buttons["addWorkoutButton"].tap()
        app.textFields["exerciseNameInput"].typeText("λ²¤μΉν”„λ μ¤")
        app.buttons["confirmExercise"].tap()
        
        // 3νƒ­ μ΄λ‚΄ μ„ΈνΈ κΈ°λ΅ μ™„λ£ ν…μ¤νΈ
        app.buttons["weightPlus"].tap() // λ¬΄κ² μ΅°μ •
        app.buttons["repsPlus"].tap()   // νμ μ΅°μ •  
        app.buttons["completeSetButton"].tap() // μ™„λ£
        
        XCTAssertTrue(app.staticTexts["μ„ΈνΈ μ™„λ£λ¨"].exists)
    }
    
    func testPersonalRecordCelebration() {
        // PR λ‹¬μ„± μ‹ μ¶•ν• μ• λ‹λ©”μ΄μ… ν…μ¤νΈ
    }
}
```

### π― μλ™ ν…μ¤νΈ μ²΄ν¬λ¦¬μ¤νΈ
- [ ] ν• μ†μΌλ΅ μ „μ²΄ μ„ΈνΈ κΈ°λ΅ μ™„λ£ κ°€λ¥
- [ ] μ„ΈνΈλ‹Ή ν‰κ·  κΈ°λ΅ μ‹κ°„ 10μ΄ μ΄λ‚΄
- [ ] λ•€μ— μ –μ€ μ†μΌλ΅λ„ μ •ν™•ν• ν„°μΉ κ°€λ¥
- [ ] λ°μ€ ν—¬μ¤μ¥μ—μ„ ν™”λ©΄ κ°€λ…μ„± μ–‘νΈ
- [ ] PR λ‹¬μ„± μ‹ μ¦‰μ‹ ν”Όλ“λ°± μ κ³µ
- [ ] μ‹¤μ μ…λ ¥ μ‹ μ‰¬μ΄ μμ • κ°€λ¥

## π“ μ„±λ¥ μ”κµ¬μ‚¬ν•­

### β΅ μ‘λ‹µ μ‹κ°„
- **μ„ΈνΈ μ¶”κ°€**: 500ms μ΄λ‚΄
- **μ΄λ™ μ„ νƒ**: 300ms μ΄λ‚΄  
- **μλ™μ™„μ„±**: 100ms μ΄λ‚΄
- **λ³Όλ¥¨ κ³„μ‚°**: μ¦‰μ‹ (λ™κΈ°)

### π’Ύ λ°μ΄ν„° μ²λ¦¬
- **μ¦‰μ‹ μ €μ¥**: μ„ΈνΈ μ™„λ£ μ‹ Core Dataμ— μ¦‰μ‹ μ €μ¥
- **μ¤ν”„λΌμΈ μ°μ„ **: λ„¤νΈμ›ν¬ μ—†μ΄ λ¨λ“  κΈ°λ¥ λ™μ‘
- **λ©”λ¨λ¦¬ ν¨μ¨**: λ‹ΉμΌ λ°μ΄ν„°λ§ λ©”λ¨λ¦¬μ— μ μ§€

## β… μ™„λ£ κΈ°μ¤€ (DoD)

### π― κΈ°λ¥ μ™„μ„±λ„
- [ ] μ΄λ™ μ¶”κ°€/μ„ νƒ 3νƒ­ μ΄λ‚΄ μ™„λ£
- [ ] μ„ΈνΈ κΈ°λ΅ 10μ΄ μ΄λ‚΄ μ™„λ£  
- [ ] PR κ°μ§€ λ° μ¶•ν• ν”Όλ“λ°± λ™μ‘
- [ ] λ³Όλ¥¨ μλ™ κ³„μ‚° λ° ν‘μ‹
- [ ] μ¤λμ μ΄λ™ λ©λ΅ μ‹¤μ‹κ°„ μ—…λ°μ΄νΈ

### π§ ν’μ§ κ²€μ¦
- [ ] Unit ν…μ¤νΈ 100% ν†µκ³Ό
- [ ] UI ν…μ¤νΈ ν•µμ‹¬ μ‹λ‚λ¦¬μ¤ ν†µκ³Ό
- [ ] μλ™ ν…μ¤νΈ μ²΄ν¬λ¦¬μ¤νΈ 100% μ™„λ£
- [ ] VoiceOver μ ‘κ·Όμ„± 100% μ§€μ›
- [ ] μ„±λ¥ μ”κµ¬μ‚¬ν•­ 100% μ¶©μ΅±

### π“± μ‚¬μ©μ κ²€μ¦
- [ ] μ‹¤μ  ν—¬μ¤μ¥μ—μ„ 10λ¶„ μ΄μƒ μ‚¬μ© ν…μ¤νΈ
- [ ] ν• μ† μ΅°μ‘μΌλ΅ μ „μ²΄ μ΄λ™ κΈ°λ΅ μ™„λ£
- [ ] ν‰κ·  μ„ΈνΈ κΈ°λ΅ μ‹κ°„ 10μ΄ μ΄λ‚΄ λ‹¬μ„±
- [ ] μ‚¬μ© μ¤‘ μ•± ν¬λμ‹ 0κ±΄
- [ ] λ°μ΄ν„° μ†μ‹¤ 0κ±΄

μ΄ κΈ°λ¥μ€ FitnessTracker μ•±μ ν•µμ‹¬μ΄λ©°, μ‚¬μ©μκ°€ μ΄λ™μ— μ§‘μ¤‘ν•λ©΄μ„λ„ μ •ν™•ν•κ³  λΉ λ¥΄κ² κΈ°λ΅ν•  μ μλ” μµμ μ κ²½ν—μ„ μ κ³µν•©λ‹λ‹¤.